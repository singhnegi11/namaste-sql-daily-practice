ðŸ”¹ Correlated subquery
A subquery that references a column from the outer query.
Because of that reference, the database cannot execute it independently.


  select emp_id,salary,department from employee e1
where salary > (select avg(salary) from employee e2
			   where e1.department <> e2.department);


----cross join 
A CROSS JOIN is a type of SQL join that produces the Cartesian product of two tables.
Simply put:

âœ… Every row from the first table is combined with every row from the second table

There is no join condition.
Explicit CROSS JOIN


SELECT *
FROM table1
CROSS JOIN table2

---- roll over for aggreagarte function


with cte as (select transaction_date,avg(transaction_amount) as aov from transactions
group by transaction_date),
cte2 as (select transaction_date,aov,min(aov) over() as min, max(aov) over () as max from cte )
select ct2.transaction_date,ct2.aov,round((ct2.max-ct2.min),2) as diff_from_highest_aov from cte2 ct2
where ct2.aov=ct2.min

